<%- include('layout/base'); -%>

    <title>bradarr - Settings</title>
</head>
<body class="flex justify-start items-center flex-col min-h-screen w-screen gap-4 overflow-x-hidden">
    <%- include('layout/header'); -%>
    <%- include('layout/alerts'); -%>
    <main class="flex justify-start items-center flex-col gap-10 py-32 h-full w-full">
        <h1 class="text-4xl text-gray-700 font-bold">Settings</h1>  

        <div class="flex justify-center items-center gap-6">
            <a class="secondary-action h-28 w-28 flex flex-col justify-center items-center gap-1" href="/settings/admin">
                <span>Admin</span>
            </a>
            <a class="secondary-action h-28 w-28 flex flex-col justify-center items-center gap-1" href="/settings/jellyseerr">
                <img src="/images/icons/jellyseerr.png" alt="jellyseerr" class="w-9 h-9" />
                <span>Jellyseerr</span>
            </a>
        </div>   

        <form class="w-full max-h-[600px] max-w-[300px] flex flex-col justify-center items-center gap-4" action="/settings" method="post">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <div class="flex justify-center w-full items-start gap-1 flex-wrap">
                <div class="mb-2 w-full">
                    <label for="maxLoginAttempts" class="text-sm text-gray-500">Max login attempts</label>
                    <input type="number" id="maxLoginAttempts" name="maxLoginAttempts" min="1" max="30" value="<%= settings.maxLoginAttempts %>" class="bg-gray-50 border-1 border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-primary block w-full p-2.5" placeholder="5" required />
                </div>
                <div class="mb-2 w-full">
                    <label for="maxLoginAttemptsTimeframe" class="block mb-1 text-sm text-gray-500">Max Login attemtps timeframe (in minutes)</label>
                    <input type="number" id="maxLoginAttemptsTimeframe" name="maxLoginAttemptsTimeframe" min="5" step="5" max="43200" class="bg-gray-50 border-1 border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-primary block w-full p-2.5" placeholder="30" value="<%= settings.maxLoginAttemptsTimeframe %>" required />
                </div>
                <div class="mb-2 w-full">
                    <label for="maxMonitoredMovies" class="block mb-1 text-sm text-gray-500">Max monitored movies (at the same time)</label>
                    <input type="number" id="maxMonitoredMovies" name="maxMonitoredMovies" min="1" step="1" max="20" class="bg-gray-50 border-1 border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-primary block w-full p-2.5" placeholder="30" value="<%= settings.maxMonitoredMovies %>" required />
                </div>
            </div>
            <button type="submit" class="primary-action">Save</button>
        </form>    
        <!--   <button onclick="fetch('/logs/empty/?apiKey=lkgZt22mcBK6gm93IppOI6Pgxl7LIKmjjUPB965PhCxqqmTFhHRtq1gkaT1Q7c0M').then(response => response.ok ? alert('Logs vidés') : alert('Erreur lors du vidage des logs'));">
                vider logs
            </button>
            <button onclick="fetch('/requests/empty/?apiKey=lkgZt22mcBK6gm93IppOI6Pgxl7LIKmjjUPB965PhCxqqmTFhHRtq1gkaT1Q7c0M').then(response => response.ok ? alert('Requêtes vidées') : alert('Erreur lors du vidage des requêtes'));">
                vider requêtes internes
            </button>
            <button onclick="fetch('/external-requests/empty/?apiKey=lkgZt22mcBK6gm93IppOI6Pgxl7LIKmjjUPB965PhCxqqmTFhHRtq1gkaT1Q7c0M').then(response => response.ok ? alert('Requêtes vidées') : alert('Erreur lors du vidage des requêtes'));">
                vider requêtes externes
            </button>
        </div> -->
    </main>
</body>
</html>
